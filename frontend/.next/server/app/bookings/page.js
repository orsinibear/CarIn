(()=>{var e={};e.id=5926,e.ids=[5926],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},29369:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(41977),t(54579),t(35866);var r=t(23191),n=t(88716),i=t(37922),a=t.n(i),o=t(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let c=["",{children:["bookings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41977)),"C:\\Users\\MSI\\Desktop\\walletconnect\\CarIn\\frontend\\app\\bookings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,54579)),"C:\\Users\\MSI\\Desktop\\walletconnect\\CarIn\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\MSI\\Desktop\\walletconnect\\CarIn\\frontend\\app\\bookings\\page.tsx"],u="/bookings/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/bookings/page",pathname:"/bookings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},75614:(e,s,t)=>{Promise.resolve().then(t.bind(t,22160))},19712:(e,s,t)=>{Promise.resolve().then(t.bind(t,52957))},83722:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},22160:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(10326),n=t(17577),i=t(9428),a=t(81917);function o({booking:e}){let[s,t]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:e.spotLocation}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Booking #",e.id.slice(-8)]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case"confirmed":case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.status)}`,children:e.status})]}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Date:"}),r.jsx("span",{className:"font-medium",children:new Date(e.date).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Time:"}),(0,r.jsxs)("span",{className:"font-medium",children:[e.startTime," - ",e.endTime]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Cost:"}),(0,r.jsxs)("span",{className:"font-medium text-blue-600",children:[e.totalCost," cUSD"]})]}),e.transactionHash&&(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"TX:"}),(0,r.jsxs)("span",{className:"font-mono text-gray-500",children:[e.transactionHash.slice(0,10),"..."]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,r.jsxs)("button",{onClick:()=>t(!s),className:"flex-1 px-4 py-2 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[s?"Hide":"Show"," QR Code"]}),r.jsx("button",{onClick:()=>window.location.href=`/booking/${e.spotId}`,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"View Details"})]}),s&&r.jsx("div",{className:"mt-4 pt-4 border-t text-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(a.Z,{bookingId:e.id,spotId:e.spotId,spotLocation:e.spotLocation,signature:e.signature,signerAddress:e.signerAddress,timestamp:new Date(e.date).getTime()})})})]})}function l({filter:e,onFilterChange:s,searchQuery:t,onSearchChange:n}){return r.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",placeholder:"Search bookings...",value:t,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),r.jsx("div",{className:"flex gap-2",children:["all","pending","active","completed"].map(t=>r.jsx("button",{onClick:()=>s(t),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e===t?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]})})}function c({userAddress:e}){let[s,t]=(0,n.useState)([]),[i,a]=(0,n.useState)(!0),[c,d]=(0,n.useState)("all"),[u,x]=(0,n.useState)(""),p=s.filter(e=>{if("all"!==c&&e.status!==c)return!1;if(u){let s=u.toLowerCase();return e.spotLocation.toLowerCase().includes(s)||e.id.toLowerCase().includes(s)}return!0});return i?r.jsx("div",{className:"text-center py-12",children:"Loading bookings..."}):(0,r.jsxs)("div",{children:[r.jsx(l,{filter:c,onFilterChange:d,searchQuery:u,onSearchChange:x}),0===p.length?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"No bookings found"}),r.jsx("p",{className:"text-sm text-gray-500",children:"all"===c?"You haven't made any bookings yet.":`No ${c} bookings found.`})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(e=>r.jsx(o,{booking:e},e.id))})]})}function d(){let[e,s]=(0,n.useState)(!1),[t,a]=(0,n.useState)(null);return e?r.jsx("main",{className:"min-h-screen p-8 bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Booking History"}),r.jsx(c,{userAddress:t})]})}):r.jsx("main",{className:"min-h-screen p-8 bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Booking History"}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Please connect your wallet to view your booking history"}),r.jsx(i.Z,{onConnect:e=>{a(e),s(!0)}})]})]})})}},9428:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(10326);function n({onConnect:e}){let s=async()=>{e("0x1234567890123456789012345678901234567890")};return r.jsx("button",{onClick:s,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Connect Wallet"})}},81917:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(10326),n=t(17577),i=t(97885);function a({bookingId:e,spotId:s,spotLocation:t,signature:a,signerAddress:o,timestamp:l,onSave:c}){let[d,u]=(0,n.useState)(!1),x=(0,n.useMemo)(()=>JSON.stringify({bookingId:e,spotId:s,location:t,timestamp:l||Date.now(),type:"parking_access",signature:a,signerAddress:o}),[e,s,t,a,o,l]);return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8 text-center max-w-sm mx-auto w-full",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Your Booking QR Code"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Show this QR code at the parking location for access"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 md:p-6 inline-block mb-6 w-full flex justify-center",children:r.jsx("div",{className:"bg-white p-4 rounded-lg inline-block border-2 border-gray-300",children:r.jsx(i.ZP,{id:"qr-code-canvas",value:x,size:200,level:"H",includeMargin:!0,className:"w-full h-auto"})})}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsxs)("p",{children:["Booking ID: ",r.jsx("span",{className:"font-mono font-medium break-all",children:e})]}),a&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-green-600 flex items-center justify-center gap-1",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Digitally Signed"]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[r.jsx("button",{onClick:()=>{u(!0);let s=document.getElementById("qr-code-canvas");if(s){let t=s.toDataURL("image/png"),r=document.createElement("a");r.download=`booking-${e}-qr.png`,r.href=t,r.click()}u(!1),c&&c()},disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors w-full sm:w-auto",children:d?"Downloading...":"Save QR Code"}),r.jsx("button",{onClick:()=>window.print(),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors w-full sm:w-auto",children:"Print"})]})]})]})}},52957:(e,s,t)=>{"use strict";t.d(s,{AppKitProvider:()=>g});var r=t(10326),n=t(32355),i=t(22662),a=t(67338),o=t(60865),l=t(94243),c=t(22852),d=t(44976);let u=process.env.NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID||"",x=new i.K({networks:[a.$,o.D],projectId:u}),p={adapters:[x],networks:[a.$,o.D],projectId:u,metadata:{name:"CarIn",description:"Decentralized parking spot booking on Celo",url:"https://carin.app",icons:["https://carin.app/icon.png"]},features:{analytics:!0,email:!1,socials:[]},themeMode:"light",defaultNetwork:a.$},m=new c.S;function g({children:e}){return r.jsx(l.F,{config:x.wagmiConfig,children:r.jsx(d.aH,{client:m,children:r.jsx(n.Vd,{...p,children:e})})})}},41977:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\MSI\Desktop\walletconnect\CarIn\frontend\app\bookings\page.tsx#default`)},54579:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>o});var r=t(19510),n=t(77366),i=t.n(n);t(67272);let a=(0,t(68570).createProxy)(String.raw`C:\Users\MSI\Desktop\walletconnect\CarIn\frontend\lib\providers\AppKitProvider.tsx#AppKitProvider`),o={title:"CarIn - Decentralized Parking",description:"Real-time parking spot booking on Celo blockchain"};function l({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:r.jsx(a,{children:e})})})}},67272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,2737,7885],()=>t(29369));module.exports=r})();