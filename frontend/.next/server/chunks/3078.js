exports.id=3078,exports.ids=[3078],exports.modules={19712:(e,t,i)=>{Promise.resolve().then(i.bind(i,52957))},83722:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,12994,23)),Promise.resolve().then(i.t.bind(i,96114,23)),Promise.resolve().then(i.t.bind(i,9727,23)),Promise.resolve().then(i.t.bind(i,79671,23)),Promise.resolve().then(i.t.bind(i,41868,23)),Promise.resolve().then(i.t.bind(i,84759,23))},30070:(e,t,i)=>{"use strict";var n;i.d(t,{$Y:()=>s,Jm:()=>n,aT:()=>r});let r=["event DisputeFiled(uint256 indexed disputeId, uint256 indexed escrowId, uint256 indexed bookingId, address filedBy, address opposingParty, string reason, uint8 resolutionType)","event EvidenceSubmitted(uint256 indexed evidenceId, uint256 indexed disputeId, address submittedBy, uint8 evidenceType, bytes evidenceHash)","event CheckInRecorded(uint256 indexed bookingId, uint256 checkInTime, address verifiedBy)","event CheckOutRecorded(uint256 indexed bookingId, uint256 checkOutTime, address verifiedBy)","event AutomatedResolution(uint256 indexed disputeId, bool refundApproved, uint256 refundPercentage, string reason)","event VoteSubmitted(uint256 indexed disputeId, address indexed voter, bool supportsRefund, uint256 weight)","event DisputeResolved(uint256 indexed disputeId, address resolvedBy, bool refundApproved, uint256 refundPercentage, uint8 resolutionType)","function fileDispute(uint256 escrowId, uint256 bookingId, string memory reason, bytes memory evidenceHash, uint8 evidenceType) external returns (uint256)","function submitEvidence(uint256 disputeId, uint8 evidenceType, bytes memory evidenceHash, string memory description) external","function recordCheckIn(uint256 bookingId, uint256 checkInTime) external","function recordCheckOut(uint256 bookingId, uint256 checkOutTime) external","function submitVote(uint256 disputeId, bool supportsRefund, uint256 refundPercentage, string memory justification) external","function resolveDisputeManually(uint256 disputeId, bool refundApproved, uint256 refundPercentage) external","function getDispute(uint256 disputeId) external view returns (tuple(uint256 disputeId, uint256 escrowId, uint256 bookingId, address filedBy, address opposingParty, string reason, bytes primaryEvidenceHash, uint256 filedAt, uint8 resolutionType, bool isResolved, address resolvedBy, uint256 resolvedAt, bool refundApproved, uint256 refundPercentage))","function getDisputeEvidence(uint256 disputeId) external view returns (tuple(uint256 evidenceId, uint256 disputeId, address submittedBy, uint8 evidenceType, bytes evidenceHash, uint256 timestamp, string description)[])","function getCheckInData(uint256 bookingId) external view returns (tuple(uint256 bookingId, uint256 checkInTime, uint256 checkOutTime, bool checkedIn, bool checkedOut, address verifiedBy))","function getDisputeVotes(uint256 disputeId) external view returns (tuple(address voter, bool supportsRefund, uint256 weight, uint256 timestamp, string justification)[])","function getDisputeByEscrowId(uint256 escrowId) external view returns (tuple(uint256 disputeId, uint256 escrowId, uint256 bookingId, address filedBy, address opposingParty, string reason, bytes primaryEvidenceHash, uint256 filedAt, uint8 resolutionType, bool isResolved, address resolvedBy, uint256 resolvedAt, bool refundApproved, uint256 refundPercentage))"],s={alfajores:process.env.NEXT_PUBLIC_DISPUTE_RESOLUTION_ADDRESS_ALFAJORES||"",celo:process.env.NEXT_PUBLIC_DISPUTE_RESOLUTION_ADDRESS_CELO||""};!function(e){e[e.Automated=0]="Automated",e[e.PendingVote=1]="PendingVote",e[e.Manual=2]="Manual"}(n||(n={}))},22634:(e,t,i)=>{"use strict";i.d(t,{$I:()=>b,bC:()=>g,nz:()=>v,Cz:()=>y});var n=i(37090),r=i(17577),s=i(71180),o=i(12113),u=i(64351),a=i(3341),d=class extends u.l{#e;#t=void 0;#i;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,a.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#i,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.Ym)(t.mutationKey)!==(0,a.Ym)(this.options.mutationKey)?this.reset():this.#i?.state.status==="pending"&&this.#i.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#i?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#i?.removeObserver(this),this.#i=void 0,this.#r(),this.#s()}mutate(e,t){return this.#n=t,this.#i?.removeObserver(this),this.#i=this.#e.getMutationCache().build(this.#e,this.options),this.#i.addObserver(this),this.#i.execute(e)}#r(){let e=this.#i?.state??(0,s.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#s(e){o.Vr.batch(()=>{if(this.#n&&this.hasListeners()){let t=this.#t.variables,i=this.#t.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#n.onSuccess?.(e.data,t,i,n),this.#n.onSettled?.(e.data,null,t,i,n)):e?.type==="error"&&(this.#n.onError?.(e.error,t,i,n),this.#n.onSettled?.(void 0,e.error,t,i,n))}this.listeners.forEach(e=>{e(this.#t)})})}},c=i(44976),l=i(11136),p=i(2487),h=i(5554),m=i(30070),f=i(95224);function v(){let{address:e}=(0,n.R)(),t=(0,f.x)(),{writeContract:i,data:s,isPending:u,error:h}=function(e={}){var t;let i=(t=(0,p.Z)(e),{mutationFn:e=>(0,l.n)(t,e),mutationKey:["writeContract"]}),n=function(e,t){let i=(0,c.NL)(void 0),[n]=r.useState(()=>new d(i,e));r.useEffect(()=>{n.setOptions(e)},[n,e]);let s=r.useSyncExternalStore(r.useCallback(e=>n.subscribe(o.Vr.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),u=r.useCallback((e,t)=>{n.mutate(e,t).catch(a.ZT)},[n]);if(s.error&&(0,a.L3)(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:u,mutateAsync:s.mutate}}({...e.mutation,...i});return{...n,mutate:n.mutate,mutateAsync:n.mutateAsync,writeContract:n.mutate,writeContractAsync:n.mutateAsync}}(),v=44787===t?m.$Y.alfajores:m.$Y.celo;return{fileDispute:async(e,t,n,r,s)=>i({address:v,abi:m.aT,functionName:"fileDispute",args:[e,t,n,r,s]}),submitEvidence:async(e,t,n,r)=>i({address:v,abi:m.aT,functionName:"submitEvidence",args:[e,t,n,r]}),recordCheckIn:async(e,t=BigInt(Math.floor(Date.now()/1e3)))=>i({address:v,abi:m.aT,functionName:"recordCheckIn",args:[e,t]}),recordCheckOut:async(e,t=BigInt(Math.floor(Date.now()/1e3)))=>i({address:v,abi:m.aT,functionName:"recordCheckOut",args:[e,t]}),submitVote:async(e,t,n,r)=>i({address:v,abi:m.aT,functionName:"submitVote",args:[e,t,n,r]}),resolveDisputeManually:async(e,t,n)=>i({address:v,abi:m.aT,functionName:"resolveDisputeManually",args:[e,t,n]}),hash:s,isPending:u,error:h}}function b(e){let t=44787===(0,f.x)()?m.$Y.alfajores:m.$Y.celo,{data:i,isLoading:n,error:r}=(0,h.u)({address:t,abi:m.aT,functionName:"getDispute",args:e?[e]:void 0,query:{enabled:!!e}});return{dispute:i,isLoading:n,error:r}}function g(e){let t=44787===(0,f.x)()?m.$Y.alfajores:m.$Y.celo,{data:i,isLoading:n,error:r}=(0,h.u)({address:t,abi:m.aT,functionName:"getDisputeEvidence",args:e?[e]:void 0,query:{enabled:!!e}});return{evidence:i,isLoading:n,error:r}}function y(e){let t=44787===(0,f.x)()?m.$Y.alfajores:m.$Y.celo,{data:i,isLoading:n,error:r}=(0,h.u)({address:t,abi:m.aT,functionName:"getDisputeVotes",args:e?[e]:void 0,query:{enabled:!!e}});return{votes:i,isLoading:n,error:r}}},52957:(e,t,i)=>{"use strict";i.d(t,{AppKitProvider:()=>f});var n=i(10326),r=i(32355),s=i(22662),o=i(67338),u=i(60865),a=i(94243),d=i(22852),c=i(44976);let l=process.env.NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID||"",p=new s.K({networks:[o.$,u.D],projectId:l}),h={adapters:[p],networks:[o.$,u.D],projectId:l,metadata:{name:"CarIn",description:"Decentralized parking spot booking on Celo",url:"https://carin.app",icons:["https://carin.app/icon.png"]},features:{analytics:!0,email:!1,socials:[]},themeMode:"light",defaultNetwork:o.$},m=new d.S;function f({children:e}){return n.jsx(a.F,{config:p.wagmiConfig,children:n.jsx(c.aH,{client:m,children:n.jsx(r.Vd,{...h,children:e})})})}},83010:(e,t,i)=>{"use strict";var n;async function r(e,t){let i=new FormData;i.append("file",e);try{let e=await fetch("/api/ipfs/upload",{method:"POST",body:i});if(!e.ok)throw Error("Failed to upload to IPFS");return(await e.json()).hash}catch(e){throw console.error("IPFS upload error:",e),e}}function s(e){return"0x"+Buffer.from(e).toString("hex").slice(0,64)}function o(e){let t=process.env.NEXT_PUBLIC_IPFS_GATEWAY||"https://ipfs.io/ipfs/";return`${t}${e}`}function u(e,t,i){if(!i||0===i.trim().length)return{valid:!1,error:"Evidence description is required"};if(2===e||3===e||4===e){if(!t)return{valid:!1,error:"File is required for this evidence type"};if(t.size>10485760)return{valid:!1,error:"File size exceeds 10MB limit"};if(2===e&&t.type.startsWith("image/")&&!["image/jpeg","image/png","image/webp","image/gif"].includes(t.type))return{valid:!1,error:"Invalid image format. Allowed: JPEG, PNG, WebP, GIF"};if(3===e&&t.type.startsWith("video/")&&!["video/mp4","video/webm","video/quicktime"].includes(t.type))return{valid:!1,error:"Invalid video format. Allowed: MP4, WebM, QuickTime"}}return{valid:!0}}function a(e){return({0:"Check-in Timestamp",1:"Check-out Timestamp",2:"Image",3:"Video",4:"Document",5:"Location Data",6:"Other"})[e]||"Unknown"}i.d(t,{O_:()=>r,VO:()=>s,gJ:()=>a,k8:()=>o,kq:()=>n,mC:()=>u}),function(e){e[e.CheckInTimestamp=0]="CheckInTimestamp",e[e.CheckOutTimestamp=1]="CheckOutTimestamp",e[e.Image=2]="Image",e[e.Video=3]="Video",e[e.Document=4]="Document",e[e.LocationData=5]="LocationData",e[e.Other=6]="Other"}(n||(n={}))},54579:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a,metadata:()=>u});var n=i(19510),r=i(77366),s=i.n(r);i(67272);let o=(0,i(68570).createProxy)(String.raw`C:\Users\MSI\Desktop\walletconnect\CarIn\frontend\lib\providers\AppKitProvider.tsx#AppKitProvider`),u={title:"CarIn - Decentralized Parking",description:"Real-time parking spot booking on Celo blockchain"};function a({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:s().className,children:n.jsx(o,{children:e})})})}},67272:()=>{},12984:(e,t,i)=>{"use strict";i.d(t,{L:()=>a});var n=i(3325),r=i(42068),s=i(96309),o=i(63994),u=i(35542);async function a(e,t){let{abi:i,address:a,args:d,functionName:c,...l}=t,p=(0,r.R)({abi:i,args:d,functionName:c});try{let{data:t}=await (0,o.s)(e,u.R,"call")({...l,data:p,to:a});return(0,n.k)({abi:i,args:d,functionName:c,data:t||"0x"})}catch(e){throw(0,s.S)(e,{abi:i,address:a,args:d,docsPath:"/docs/contract/readContract",functionName:c})}}},5554:(e,t,i)=>{"use strict";i.d(t,{u:()=>d});var n=i(12984),r=i(95418),s=i(13184),o=i(37597),u=i(95224),a=i(2487);function d(e={}){let{abi:t,address:i,functionName:d,query:c={}}=e,l=e.code,p=(0,a.Z)(e),h=(0,u.x)({config:p}),m=function(e,t={}){return{async queryFn({queryKey:i}){let s=t.abi;if(!s)throw Error("abi is required");let{functionName:o,scopeKey:u,...a}=i[1],d=(()=>{let e=i[1];if(e.address)return{address:e.address};if(e.code)return{code:e.code};throw Error("address or code is required")})();if(!o)throw Error("functionName is required");return function(e,t){let{chainId:i,...s}=t,o=e.getClient({chainId:i});return(0,r.s)(o,n.L,"readContract")(s)}(e,{abi:s,functionName:o,args:a.args,...d,...a})},queryKey:function(e={}){let{abi:t,...i}=e;return["readContract",(0,s.OP)(i)]}(t)}}(p,{...e,chainId:e.chainId??h}),f=!!((i||l)&&t&&d&&(c.enabled??!0));return(0,o.aM)({...c,...m,enabled:f,structuralSharing:c.structuralSharing??s.if})}},15327:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(84318),r=i(13184),s=i(37597),o=i(95224),u=i(2487);function a(e={}){let{hash:t,query:i={}}=e,a=(0,u.Z)(e),d=(0,o.x)({config:a}),c=function(e,t={}){return{async queryFn({queryKey:i}){let{hash:r,...s}=i[1];if(!r)throw Error("hash is required");return(0,n.e)(e,{...s,onReplaced:t.onReplaced,hash:r})},queryKey:function(e={}){let{onReplaced:t,...i}=e;return["waitForTransactionReceipt",(0,r.OP)(i)]}(t)}}(a,{...e,chainId:e.chainId??d}),l=!!(t&&(i.enabled??!0));return(0,s.aM)({...i,...c,enabled:l})}}};